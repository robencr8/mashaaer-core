<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feedback Tool Integration Guide</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: #2c3e50;
        }
        h1 {
            border-bottom: 2px solid #eaeaea;
            padding-bottom: 10px;
        }
        .section {
            margin-bottom: 30px;
        }
        .endpoint-list {
            list-style-type: none;
            padding-left: 0;
        }
        .endpoint-list li {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid #4CAF50;
        }
        .endpoint-path {
            font-weight: bold;
            color: #2c3e50;
        }
        .endpoint-description {
            margin-top: 5px;
            color: #666;
        }
        code {
            background-color: #f0f0f0;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: monospace;
        }
        .note {
            background-color: #fffde7;
            border-left: 4px solid #fbc02d;
            padding: 10px 15px;
            margin: 20px 0;
        }
        a {
            color: #3498db;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .test-button {
            display: inline-block;
            background-color: #4CAF50;
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            text-decoration: none;
            margin-top: 5px;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        .test-button:hover {
            background-color: #45a049;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Feedback Tool Integration Guide</h1>
        
        <div class="section">
            <h2>Introduction</h2>
            <p>This guide provides information on integrating the web application feedback tool with the Mashaaer Feelings application. It includes details on available endpoints, CORS configuration, and troubleshooting steps.</p>
            
            <div class="note">
                <strong>Note:</strong> Despite our best efforts to configure compatible endpoints, the web application feedback tool may report that the web server is unreachable. This guide provides alternative testing methods to verify application functionality.
            </div>
        </div>
        
        <div class="section">
            <h2>Testing Tools</h2>
            <p>The following tools are available to test the application:</p>
            
            <ul>
                <li><a href="/feedback-comprehensive-test" class="test-button">Comprehensive Feedback Tool Test</a> - Advanced testing interface with detailed diagnostics</li>
                <li><a href="/cors-diagnostic" class="test-button">CORS Diagnostic Tool</a> - Detailed CORS testing and analysis</li>
                <li><a href="/feedback-test" class="test-button">Basic Feedback Test</a> - Simple endpoint testing</li>
                <li><a href="/static/feedback_test.html" class="test-button">Static Feedback Test</a> - Static HTML test page</li>
            </ul>
        </div>
        
        <div class="section">
            <h2>Available Endpoints</h2>
            
            <h3>1. Health Check Endpoints</h3>
            <ul class="endpoint-list">
                <li>
                    <div class="endpoint-path">/health</div>
                    <div class="endpoint-description">Root-level health check with minimal response</div>
                    <a href="/health" class="test-button">Test</a>
                </li>
                <li>
                    <div class="endpoint-path">/api/status</div>
                    <div class="endpoint-description">API status information in JSON format</div>
                    <a href="/api/status" class="test-button">Test</a>
                </li>
                <li>
                    <div class="endpoint-path">/api/ping</div>
                    <div class="endpoint-description">Simple ping endpoint returning JSON</div>
                    <a href="/api/ping" class="test-button">Test</a>
                </li>
            </ul>
            
            <h3>2. Minimal Endpoints</h3>
            <ul class="endpoint-list">
                <li>
                    <div class="endpoint-path">/api/minimal</div>
                    <div class="endpoint-description">Minimal API endpoint returning plain text</div>
                    <a href="/api/minimal" class="test-button">Test</a>
                </li>
                <li>
                    <div class="endpoint-path">/minimal-page</div>
                    <div class="endpoint-description">Minimal HTML page</div>
                    <a href="/minimal-page" class="test-button">Test</a>
                </li>
                <li>
                    <div class="endpoint-path">/ultra-minimal-page</div>
                    <div class="endpoint-description">Ultra minimal HTML page</div>
                    <a href="/ultra-minimal-page" class="test-button">Test</a>
                </li>
                <li>
                    <div class="endpoint-path">/minimal-test-page</div>
                    <div class="endpoint-description">Minimal test page for the feedback tool</div>
                    <a href="/minimal-test-page" class="test-button">Test</a>
                </li>
            </ul>
            
            <h3>3. Dedicated Feedback Tool Endpoints</h3>
            <ul class="endpoint-list">
                <li>
                    <div class="endpoint-path">/feedback-tool-endpoint</div>
                    <div class="endpoint-description">Ultra-minimal endpoint with maximum CORS compatibility</div>
                    <a href="/feedback-tool-endpoint" class="test-button">Test</a>
                </li>
                <li>
                    <div class="endpoint-path">/api/feedback-tool-status</div>
                    <div class="endpoint-description">Enhanced diagnostic endpoint with detailed information</div>
                    <a href="/api/feedback-tool-status" class="test-button">Test</a>
                </li>
                <li>
                    <div class="endpoint-path">/feedback-tool-test</div>
                    <div class="endpoint-description">Ultra minimal text response for testing</div>
                    <a href="/feedback-tool-test" class="test-button">Test</a>
                </li>
                <li>
                    <div class="endpoint-path">/api/feedback-tool-ping</div>
                    <div class="endpoint-description">Simple ping endpoint for the feedback tool</div>
                    <a href="/api/feedback-tool-ping" class="test-button">Test</a>
                </li>
            </ul>
            
            <h3>4. Diagnostic Endpoints</h3>
            <ul class="endpoint-list">
                <li>
                    <div class="endpoint-path">/api/debug-request</div>
                    <div class="endpoint-description">Detailed request information for debugging</div>
                    <a href="/api/debug-request" class="test-button">Test</a>
                </li>
                <li>
                    <div class="endpoint-path">/cors-test</div>
                    <div class="endpoint-description">CORS test page</div>
                    <a href="/cors-test" class="test-button">Test</a>
                </li>
                <li>
                    <div class="endpoint-path">/diagnostic-panel</div>
                    <div class="endpoint-description">Diagnostic panel for server connectivity</div>
                    <a href="/diagnostic-panel" class="test-button">Test</a>
                </li>
            </ul>
        </div>
        
        <div class="section">
            <h2>Documentation</h2>
            <p>The following documentation is available:</p>
            
            <ul>
                <li><a href="/static/markdown/FEEDBACK_TOOL_DOCUMENTATION.md" class="test-button">Feedback Tool Documentation</a></li>
                <li><a href="/static/markdown/KNOWN_ISSUES.md" class="test-button">Known Issues</a></li>
                <li><a href="/static/markdown/FEEDBACK_TOOL_SUMMARY.md" class="test-button">Feedback Tool Summary</a></li>
            </ul>
        </div>
        
        <div class="section">
            <h2>Command-Line Testing</h2>
            <p>For server-side testing, use the following curl commands:</p>
            
            <pre><code>
# Test basic health check
curl -v http://localhost:5000/health

# Test with custom origin
curl -H "Origin: https://example.com" -v http://localhost:5000/api/status

# Test OPTIONS preflight
curl -X OPTIONS -H "Origin: https://example.com" -H "Access-Control-Request-Method: POST" -H "Access-Control-Request-Headers: content-type" -v http://localhost:5000/api/status
            </code></pre>
        </div>
        
        <div class="section">
            <h2>CORS Configuration</h2>
            <p>The Mashaaer Feelings application has implemented a robust CORS configuration with the following headers:</p>
            
            <pre><code>
Access-Control-Allow-Origin: *
Access-Control-Allow-Methods: GET, POST, OPTIONS, HEAD
Access-Control-Allow-Headers: *
Access-Control-Max-Age: 86400
Access-Control-Expose-Headers: Content-Type, Content-Length, Date
            </code></pre>
            
            <p>For more secure configurations, the application can dynamically set the <code>Access-Control-Allow-Origin</code> header to match the incoming request's origin.</p>
        </div>
        
        <div class="section">
            <h2>Troubleshooting</h2>
            <p>If you encounter issues with the web application feedback tool, try the following:</p>
            
            <ol>
                <li>Use the <a href="/feedback-comprehensive-test">Comprehensive Feedback Tool Test</a> to diagnose connectivity issues.</li>
                <li>Check the <a href="/cors-diagnostic">CORS Diagnostic Tool</a> to identify any CORS-related problems.</li>
                <li>Test with <a href="/minimal-page">minimal endpoints</a> to isolate complex application issues.</li>
                <li>Use curl commands to test server connectivity from the command line.</li>
                <li>Check the server logs for any error messages related to the feedback tool.</li>
            </ol>
            
            <div class="note">
                <strong>Known Issue:</strong> The web application feedback tool may report that the web server is unreachable despite the server being accessible from web browsers. See <a href="/static/markdown/KNOWN_ISSUES.md">Known Issues</a> for more information.
            </div>
        </div>
    </div>
</body>
</html>
