# تطبيق Mashaaer كتطبيق ويب تقدمي (PWA)

تم تحسين تطبيق Mashaaer ليعمل كتطبيق ويب تقدمي (Progressive Web App - PWA)، مما يتيح للمستخدمين تثبيته على أجهزتهم المحمولة وسطح المكتب، والاستفادة من ميزات الوضع دون اتصال، والإشعارات، والمزيد.

## الميزات المضافة

1. **إمكانية التثبيت**: يمكن تثبيت التطبيق مباشرة من المتصفح على الأجهزة المحمولة وسطح المكتب.
2. **شاشة البداية المخصصة**: تظهر شاشة بداية مخصصة عند تشغيل التطبيق.
3. **تجربة شبيهة بالتطبيقات الأصلية**: تجربة مستخدم سلسة تشبه التطبيقات الأصلية.
4. **العمل دون اتصال**: وضع دون اتصال أساسي يعرض صفحة خطأ مناسبة عند فقدان الاتصال.
5. **أداء محسن**: تخزين مؤقت للموارد الأساسية لتحميل أسرع.

## الملفات الرئيسية

1. **manifest.json**: يحدد معلومات التطبيق مثل الاسم، والوصف، والأيقونات، وطرق العرض.
2. **service-worker.js**: يدير التخزين المؤقت والوضع دون اتصال.
3. **offline.html**: صفحة تظهر عندما يكون المستخدم غير متصل.
4. **الأيقونات**: مجموعة من الأيقونات بأحجام مختلفة للأجهزة المتنوعة.

## كيفية تثبيت التطبيق

### على Android

1. فتح التطبيق في Chrome.
2. النقر على قائمة النقاط الثلاث (⋮).
3. اختيار "تثبيت التطبيق" أو "إضافة إلى الشاشة الرئيسية".
4. اتباع التعليمات لإكمال التثبيت.

### على iOS

1. فتح التطبيق في Safari.
2. النقر على زر المشاركة (شارك) في أسفل الشاشة.
3. التمرير للأسفل واختيار "إضافة إلى الشاشة الرئيسية".
4. تأكيد الإضافة.

### على سطح المكتب

1. فتح التطبيق في Chrome أو Edge.
2. ستظهر أيقونة التثبيت (+) في شريط العنوان.
3. النقر على الأيقونة واتباع التعليمات.

## ملاحظات للمطورين

- **تغيير مسار service-worker.js**: تم تعديل المسار من `/static/service-worker.js` إلى `/service-worker.js` لتوافق أفضل مع معايير PWA.
- **ملف manifest.json**: تم تكوينه بعناية لدعم اللغة العربية (RTL) والإنجليزية.
- **وضع عدم الاتصال**: تم تنفيذ استراتيجية "network-first" للطلبات المهمة، مع الرجوع إلى النسخة المخزنة مؤقتًا عند فشل الشبكة.

## الاختبار

يمكن اختبار وظائف PWA باستخدام:

1. **صفحة اختبار الأيقونات**: زيارة `/icon-test` للتحقق من صحة الأيقونات والبيانات الوصفية.
2. **اختبار التثبيت**: محاولة تثبيت التطبيق على مختلف الأجهزة.
3. **اختبار دون اتصال**: تمكين وضع عدم الاتصال في أدوات المطور بالمتصفح واختبار سلوك التطبيق.

## تعديلات مستقبلية

- تحسين تجربة المستخدم بالكامل في وضع عدم الاتصال.
- تنفيذ إشعارات الدفع لتنبيهات الرسائل والتذكيرات.
- تحسين استراتيجيات التخزين المؤقت لتحسين الأداء.

---

*تمت الإضافة: 5 أبريل 2025*
