<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Settings - Robin AI Mobile</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="/static/mobile/css/app.css">
  <link rel="stylesheet" href="/static/mobile/css/settings.css">
  <link rel="apple-touch-icon" href="/static/mobile/images/robin-icon-192.png">
  <link rel="manifest" href="/static/mobile/manifest.json">
</head>
<body>
  <div class="app-container">
    <div class="header">
      <div class="logo">
        <span class="icon">ðŸ¤–</span>
        <span class="title">Robin AI</span>
      </div>
      <div class="user-status" id="userStatus">
        <span class="status-dot"></span>
        <span class="status-text">Offline</span>
      </div>
    </div>

    <div class="page-title">
      <h2>Settings</h2>
    </div>

    <div class="settings-container">
      <div class="settings-section">
        <h3>General</h3>
        <div class="setting-item">
          <div class="setting-label">
            <i class="fas fa-globe"></i>
            <span>Language</span>
          </div>
          <div class="setting-control">
            <select id="languageSelect" class="settings-select">
              <option value="en">English</option>
              <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Arabic)</option>
            </select>
          </div>
        </div>
        <div class="setting-item">
          <div class="setting-label">
            <i class="fas fa-moon"></i>
            <span>Dark Mode</span>
          </div>
          <div class="setting-control">
            <label class="toggle-switch">
              <input type="checkbox" id="darkModeToggle" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
      </div>

      <div class="settings-section">
        <h3>Voice & Speech</h3>
        <div class="setting-item">
          <div class="setting-label">
            <i class="fas fa-volume-up"></i>
            <span>Voice Style</span>
          </div>
          <div class="setting-control">
            <select id="voiceStyleSelect" class="settings-select">
              <option value="default">Default</option>
              <option value="friendly">Friendly</option>
              <option value="professional">Professional</option>
              <option value="calm">Calm</option>
            </select>
          </div>
        </div>
        <div class="setting-item">
          <div class="setting-label">
            <i class="fas fa-microphone"></i>
            <span>Voice Recognition</span>
          </div>
          <div class="setting-control">
            <label class="toggle-switch">
              <input type="checkbox" id="voiceRecognitionToggle" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
      </div>

      <div class="settings-section">
        <h3>Privacy</h3>
        <div class="setting-item">
          <div class="setting-label">
            <i class="fas fa-user-shield"></i>
            <span>Store Conversation History</span>
          </div>
          <div class="setting-control">
            <label class="toggle-switch">
              <input type="checkbox" id="storeHistoryToggle" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
        <div class="setting-item">
          <div class="setting-label">
            <i class="fas fa-camera-retro"></i>
            <span>Face Recognition</span>
          </div>
          <div class="setting-control">
            <label class="toggle-switch">
              <input type="checkbox" id="faceRecognitionToggle" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
      </div>

      <div class="settings-section">
        <h3>Advanced</h3>
        <div class="setting-item">
          <div class="setting-label">
            <i class="fas fa-robot"></i>
            <span>AI Model Backend</span>
          </div>
          <div class="setting-control">
            <select id="aiModelBackendSelect" class="settings-select">
              <option value="auto">Auto (Smart Fallback)</option>
              <option value="openai">OpenAI Only</option>
              <option value="ollama">Ollama Only</option>
            </select>
          </div>
          <div class="setting-info">
            <span class="info-text">Auto mode tries OpenAI first, then falls back to Ollama if needed</span>
            <div class="model-statuses">
              <div class="model-status">
                <span class="model-status-dot" id="openaiStatus"></span>
                <span class="model-status-text">OpenAI Status: <span id="openaiStatusText">Checking...</span></span>
              </div>
              <div class="model-status">
                <span class="model-status-dot" id="ollamaStatus"></span>
                <span class="model-status-text">Ollama Status: <span id="ollamaStatusText">Checking...</span></span>
              </div>
            </div>
          </div>
        </div>
        <div class="setting-item link-item">
          <div class="setting-label">
            <i class="fas fa-cog"></i>
            <span>Advanced AI Settings</span>
          </div>
          <div class="setting-value">
            <a href="/ai-models" class="settings-link">
              <i class="fas fa-external-link-alt"></i>
            </a>
          </div>
        </div>
      </div>

      <div class="settings-section" id="developerModeSection">
        <h3>Developer Mode</h3>
        <div class="setting-item">
          <div class="setting-label">
            <i class="fas fa-code"></i>
            <span>Developer Mode</span>
          </div>
          <div class="setting-control">
            <label class="toggle-switch">
              <input type="checkbox" id="developerModeToggle">
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
        <div id="developerModeOptions" class="dev-tools-container" style="display: none;">
          <div class="setting-item">
            <div class="setting-label">
              <i class="fas fa-flask"></i>
              <span>Test API Endpoint</span>
            </div>
            <div class="setting-value">
              <a href="/test-ask" class="settings-link">
                <i class="fas fa-external-link-alt"></i>
              </a>
            </div>
          </div>
          <div class="setting-item">
            <div class="setting-label">
              <i class="fas fa-bug"></i>
              <span>Debug Mode</span>
            </div>
            <div class="setting-control">
              <label class="toggle-switch">
                <input type="checkbox" id="debugModeToggle">
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
          <div class="setting-item">
            <div class="setting-label">
              <i class="fas fa-terminal"></i>
              <span>Access Logs</span>
            </div>
            <div class="setting-value">
              <a href="#" id="viewLogsBtn" class="settings-link">
                <i class="fas fa-external-link-alt"></i>
              </a>
            </div>
          </div>
          <div class="setting-item">
            <div class="setting-label">
              <i class="fas fa-database"></i>
              <span>Database Status</span>
            </div>
            <div class="setting-value">
              <a href="#" id="checkDbStatusBtn" class="settings-link">
                <i class="fas fa-sync-alt"></i>
              </a>
            </div>
          </div>
          <div class="setting-item">
            <div class="setting-label">
              <i class="fas fa-server"></i>
              <span>System Performance</span>
            </div>
            <div class="setting-value">
              <a href="#" id="systemPerformanceBtn" class="settings-link">
                <i class="fas fa-chart-bar"></i>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="settings-section">
        <h3>About</h3>
        <div class="setting-item info-item">
          <div class="setting-label">
            <i class="fas fa-info-circle"></i>
            <span>Version</span>
          </div>
          <div class="setting-value">1.0.0</div>
        </div>
        <div class="setting-item info-item">
          <div class="setting-label">
            <i class="fas fa-code"></i>
            <span>Developer</span>
          </div>
          <div class="setting-value">Roben Edwan</div>
        </div>
      </div>

      <div class="settings-actions">
        <button id="resetButton" class="settings-button danger">Reset Settings</button>
        <button id="logoutButton" class="settings-button">Logout</button>
      </div>
    </div>

    <div class="modal" id="confirmModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡</h3>
          <button class="close-button" id="closeConfirmModal">&times;</button>
        </div>
        <div class="modal-body">
          <p id="confirmMessage">Are you sure you want to proceed with this action?</p>
          <div class="confirm-actions">
            <button id="cancelButton" class="cancel-button">Ø¥Ù„ØºØ§Ø¡</button>
            <button id="confirmButton" class="send-button">ØªØ£ÙƒÙŠØ¯</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Developer Mode Logs Modal -->
    <div class="modal" id="logsModal">
      <div class="modal-content modal-fullscreen">
        <div class="modal-header">
          <h3><i class="fas fa-terminal"></i> System Logs</h3>
          <button class="close-button" id="closeLogsModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="logs-toolbar">
            <select id="logTypeSelect" class="logs-select">
              <option value="all">All Logs</option>
              <option value="error">Error Logs</option>
              <option value="api">API Requests</option>
              <option value="system">System Events</option>
              <option value="ml">ML Operations</option>
              <option value="face">Face Recognition</option>
              <option value="voice">Voice Recognition</option>
            </select>
            <div class="logs-filter">
              <input type="text" id="logFilterInput" placeholder="Filter logs...">
              <button id="clearLogsFilterBtn"><i class="fas fa-times"></i></button>
            </div>
            <button id="refreshLogsBtn" class="refresh-button"><i class="fas fa-sync-alt"></i></button>
          </div>
          <div class="logs-container">
            <pre id="logsContent" class="logs-content"></pre>
          </div>
          <div class="logs-actions">
            <button id="copyLogsBtn" class="logs-button"><i class="fas fa-copy"></i> Copy</button>
            <button id="downloadLogsBtn" class="logs-button"><i class="fas fa-download"></i> Download</button>
            <button id="clearLogsBtn" class="logs-button danger"><i class="fas fa-trash"></i> Clear</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Developer Mode Database Modal -->
    <div class="modal" id="dbStatusModal">
      <div class="modal-content modal-fullscreen">
        <div class="modal-header">
          <h3><i class="fas fa-database"></i> Database Status</h3>
          <button class="close-button" id="closeDbStatusModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="db-stats">
            <div class="db-stat-item">
              <div class="db-stat-label">Database Size</div>
              <div class="db-stat-value" id="dbSize">Checking...</div>
            </div>
            <div class="db-stat-item">
              <div class="db-stat-label">Total Tables</div>
              <div class="db-stat-value" id="totalTables">Checking...</div>
            </div>
            <div class="db-stat-item">
              <div class="db-stat-label">Total Records</div>
              <div class="db-stat-value" id="totalRecords">Checking...</div>
            </div>
            <div class="db-stat-item">
              <div class="db-stat-label">Last Backup</div>
              <div class="db-stat-value" id="lastBackup">Never</div>
            </div>
          </div>
          <div class="db-tables">
            <h4>Database Tables</h4>
            <div class="db-table-list" id="dbTableList">
              <div class="loading-spinner"></div>
            </div>
          </div>
          <div class="db-actions">
            <button id="refreshDbBtn" class="db-button"><i class="fas fa-sync-alt"></i> Refresh</button>
            <button id="backupDbBtn" class="db-button"><i class="fas fa-save"></i> Backup</button>
            <button id="optimizeDbBtn" class="db-button"><i class="fas fa-bolt"></i> Optimize</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- System Performance Modal -->
    <div class="modal" id="systemPerformanceModal">
      <div class="modal-content modal-fullscreen">
        <div class="modal-header">
          <h3><i class="fas fa-server"></i> System Performance</h3>
          <button class="close-button" id="closeSystemPerformanceModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="performance-stats">
            <div class="performance-stat-item">
              <div class="performance-stat-label">CPU Usage</div>
              <div class="performance-stat-value" id="cpuUsage">Checking...</div>
              <div class="performance-stat-chart">
                <div class="chart-placeholder" id="cpuChart"></div>
              </div>
            </div>
            <div class="performance-stat-item">
              <div class="performance-stat-label">Memory Usage</div>
              <div class="performance-stat-value" id="memoryUsage">Checking...</div>
              <div class="performance-stat-chart">
                <div class="chart-placeholder" id="memoryChart"></div>
              </div>
            </div>
            <div class="performance-stat-item">
              <div class="performance-stat-label">API Response Time</div>
              <div class="performance-stat-value" id="apiResponseTime">Checking...</div>
              <div class="performance-stat-chart">
                <div class="chart-placeholder" id="apiChart"></div>
              </div>
            </div>
            <div class="performance-stat-item">
              <div class="performance-stat-label">Active Sessions</div>
              <div class="performance-stat-value" id="activeSessions">Checking...</div>
            </div>
          </div>
          <div class="performance-actions">
            <button id="refreshPerformanceBtn" class="performance-button"><i class="fas fa-sync-alt"></i> Refresh</button>
            <div class="refresh-rate">
              <label for="performanceRefreshRate">Refresh Rate:</label>
              <select id="performanceRefreshRate">
                <option value="0">Manual</option>
                <option value="5" selected>5s</option>
                <option value="10">10s</option>
                <option value="30">30s</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-bar">
      <div class="tab" data-tab="home">
        <i class="fas fa-home"></i>
        <span>Home</span>
      </div>
      <div class="tab" data-tab="emotions">
        <i class="fas fa-chart-line"></i>
        <span>Emotions</span>
      </div>
      <div class="tab" data-tab="profiles">
        <i class="fas fa-user"></i>
        <span>Profiles</span>
      </div>
      <div class="tab active" data-tab="settings">
        <i class="fas fa-cog"></i>
        <span>Settings</span>
      </div>
    </div>
  </div>

  <script src="/static/mobile/js/settings.js"></script>
</body>
</html>