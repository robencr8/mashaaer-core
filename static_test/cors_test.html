<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CORS Test</title>
</head>
<body>
    <h1>Testing CORS with Mashaaer Feelings API</h1>
    
    <div id="results">Testing...</div>
    
    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            const resultsElement = document.getElementById('results');
            
            try {
                // First test - API status
                const apiStatusResponse = await fetch('http://localhost:5000/api/status');
                const apiStatusData = await apiStatusResponse.json();
                
                resultsElement.innerHTML = `
                    <h2>API Status Test: SUCCESS</h2>
                    <pre>${JSON.stringify(apiStatusData, null, 2)}</pre>
                `;
                
                // Second test - Root endpoint
                const rootResponse = await fetch('http://localhost:5000/');
                const rootText = await rootResponse.text();
                
                resultsElement.innerHTML += `
                    <h2>Root Endpoint Test: SUCCESS</h2>
                    <p>${rootText}</p>
                `;
                
                // Third test - Cosmic Onboarding endpoint
                const cosmicResponse = await fetch('http://localhost:5000/cosmic-onboarding');
                const cosmicStatus = cosmicResponse.status;
                
                resultsElement.innerHTML += `
                    <h2>Cosmic Onboarding Test: SUCCESS</h2>
                    <p>Status code: ${cosmicStatus}</p>
                `;
                
            } catch (error) {
                resultsElement.innerHTML = `
                    <h2>CORS Test: FAILED</h2>
                    <p>Error: ${error.message}</p>
                `;
                console.error('CORS Test Error:', error);
            }
        });
    </script>
</body>
</html>